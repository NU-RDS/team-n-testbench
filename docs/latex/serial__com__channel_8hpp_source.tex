\doxysection{serial\+\_\+com\+\_\+channel.\+hpp}
\hypertarget{serial__com__channel_8hpp_source}{}\label{serial__com__channel_8hpp_source}\index{testbench-\/mcu/include/serial\_com\_channel.hpp@{testbench-\/mcu/include/serial\_com\_channel.hpp}}
\mbox{\hyperlink{serial__com__channel_8hpp}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{preprocessor}{\#ifndef\ \_\_SERIAL\_COM\_CHANNEL\_H\_\_}}
\DoxyCodeLine{00002\ \textcolor{preprocessor}{\#define\ \_\_SERIAL\_COM\_CHANNEL\_H\_\_}}
\DoxyCodeLine{00003\ }
\DoxyCodeLine{00004\ \textcolor{preprocessor}{\#include\ "{}rdscom.hpp"{}}}
\DoxyCodeLine{00005\ \textcolor{preprocessor}{\#include\ <Arduino.h>}}
\DoxyCodeLine{00006\ \textcolor{preprocessor}{\#include\ <HardwareSerial.h>}}
\DoxyCodeLine{00007\ }
\DoxyCodeLine{00008\ \textcolor{comment}{//\ Define\ a\ class\ that\ implements\ the\ CommunicationChannel\ interface\ for\ the\ rdscom\ library.}}
\DoxyCodeLine{00009\ \textcolor{keyword}{class\ }\mbox{\hyperlink{class_serial_communication_channel_a2bc911c613dfd31ddc8b01d191c8553f}{SerialCommunicationChannel}}\ :\ \textcolor{keyword}{public}\ rdscom::CommunicationChannel\ \{}
\DoxyCodeLine{00010\ \ \ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{00011\ \ \ \ \ \mbox{\hyperlink{class_serial_communication_channel_a2bc911c613dfd31ddc8b01d191c8553f}{SerialCommunicationChannel}}()\ \{\};}
\DoxyCodeLine{00012\ }
\DoxyCodeLine{00013\ \ \ \ \ std::vector<std::uint8\_t>\ \mbox{\hyperlink{class_serial_communication_channel_a6dc0e6a1a2ac418cf10ae22371d118d5}{receive}}()\textcolor{keyword}{\ override\ }\{}
\DoxyCodeLine{00014\ \ \ \ \ \ \ \ \ std::vector<std::uint8\_t>\ data;}
\DoxyCodeLine{00015\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{while}\ (Serial.available())\ \{}
\DoxyCodeLine{00016\ \ \ \ \ \ \ \ \ \ \ \ \ data.push\_back(\textcolor{keyword}{static\_cast<}std::uint8\_t\textcolor{keyword}{>}(Serial.read()));}
\DoxyCodeLine{00017\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00018\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ data;}
\DoxyCodeLine{00019\ \ \ \ \ \}}
\DoxyCodeLine{00020\ }
\DoxyCodeLine{00021\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_serial_communication_channel_a1fb141c6dfe8209c231cf0a2dc2052cc}{send}}(\textcolor{keyword}{const}\ rdscom::Message\ \&message)\textcolor{keyword}{\ override\ }\{}
\DoxyCodeLine{00022\ \ \ \ \ \ \ \ \ std::vector<std::uint8\_t>\ serialized\ =\ message.serialize();}
\DoxyCodeLine{00023\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (std::uint8\_t\ \textcolor{keywordtype}{byte}\ :\ serialized)\ \{}
\DoxyCodeLine{00024\ \ \ \ \ \ \ \ \ \ \ \ \ Serial.write(\textcolor{keywordtype}{byte});}
\DoxyCodeLine{00025\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00026\ \ \ \ \ \}}
\DoxyCodeLine{00027\ \};}
\DoxyCodeLine{00028\ }
\DoxyCodeLine{00029\ \textcolor{preprocessor}{\#endif\ \ }\textcolor{comment}{//\ \_\_SERIAL\_COM\_CHANNEL\_H\_\_}}

\end{DoxyCode}
